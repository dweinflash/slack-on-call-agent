{
    "_metadata": {
        "major_version": 1,
        "minor_version": 1
    },
    "display_information": {
        "name": "On-Call Agent"
    },
    "features": {
        "app_home": {
            "home_tab_enabled": true,
            "messages_tab_enabled": true,
            "messages_tab_read_only_enabled": false
        },
        "bot_user": {
            "display_name": "On-Call Agent",
            "always_online": true
        },
        "slash_commands": [
            {
                "command": "/ask",
                "description": "Ask the on-call agent a general question",
                "should_escape": false
            },
            {
                "command": "/code",
                "description": "Ask code analysis and system design questions",
                "usage_hint": "/code explain the authentication flow",
                "should_escape": false
            },
            {
                "command": "/incident",
                "description": "Get incident resolution steps from knowledge base",
                "usage_hint": "/incident kafka backlog is growing",
                "should_escape": false
            }
        ]
    },
    "oauth_config": {
        "scopes": {
            "bot": [
                "app_mentions:read",
                "channels:history",
                "channels:read",
                "chat:write",
                "chat:write.public",
                "commands",
                "groups:history",
                "groups:read",
                "im:history",
                "im:read",
                "im:write",
                "mpim:history",
                "mpim:read",
                "mpim:write",
                "users:read"
            ]
        }
    },
    "functions": {
        "summary_function": {
            "title": "On-Call Agent Custom Function",
            "description": "Interact with the on-call AI agent. On-Call Agent must be a channel member.",
            "input_parameters": {
                "user_context": {
                    "type": "slack#/types/user_context",
                    "title": "User",
                    "description": "Tag the user that will be notified when bot responds",
                    "hint": "Tag user who ran the workflow",
                    "name": "user_context",
                    "is_required": true
                },
                "channel_id": {
                    "type": "slack#/types/channel_id",
                    "title": "Channel",
                    "description": "Channel that user joined",
                    "hint": "Input channel that user joined",
                    "name": "channel_id",
                    "is_required": true
                }
            },
            "output_parameters": {
                "user_context": {
                    "type": "slack#/types/user_context",
                    "title": "User",
                    "description": "User that completed the workflow",
                    "name": "user_context",
                    "is_required": true
                },
                "response": {
                    "type": "string",
                    "title": "Summary",
                    "description": "AI-generated summary of recent messages in channel",
                    "name": "response",
                    "is_required": true
                }
            }
        }
    },
    "settings": {
        "event_subscriptions": {
            "bot_events": [
                "app_home_opened",
                "app_mention",
                "function_executed",
                "message.channels",
                "message.groups",
                "message.im",
                "message.mpim"
            ]
        },
        "interactivity": {
            "is_enabled": true
        },
        "org_deploy_enabled": true,
        "socket_mode_enabled": true,
        "token_rotation_enabled": false,
        "function_runtime": "remote"
    }
}
